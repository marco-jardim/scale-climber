*{margin:0;padding:0;box-sizing:border-box}:root{--color-perfect: #FFD700;--color-great: #32CD32;--color-good: #00BFFF;--color-ok: #FFA500;--color-miss: #FF4444;--color-bg-sky-start: #87CEEB;--color-bg-sky-end: #E0F6FF;--color-mountain: #8B7BB8;--color-character-primary: #20B2AA;--color-text-primary: #2C3E50;--color-text-secondary: #7F8C8D;--color-text-light: #ffffff;--color-primary: #20B2AA;--color-secondary: #8B7BB8;--color-accent: #FFD700;--color-success: #32CD32;--color-warning: #FFA500;--color-error: #FF4444;--color-bg: #87CEEB;--color-bg-light: #E0F6FF;--color-text: #2C3E50;--spacing-xs: .5rem;--spacing-sm: 1rem;--spacing-md: 1.5rem;--spacing-lg: 2rem;--spacing-xl: 3rem;--font-primary: "Fredoka One", "Comic Sans MS", cursive, sans-serif;--font-secondary: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;--font-mono: "Courier New", monospace;--text-xs: .75rem;--text-sm: .875rem;--text-base: 1rem;--text-lg: 1.125rem;--text-xl: 1.5rem;--text-2xl: 2rem;--text-3xl: 3rem;--font-family: var(--font-secondary);--font-size-sm: var(--text-sm);--font-size-base: var(--text-base);--font-size-lg: var(--text-lg);--font-size-xl: var(--text-xl);--font-size-2xl: var(--text-2xl);--font-size-3xl: var(--text-3xl);--border-radius: 8px;--border-radius-lg: 12px;--canvas-max-width: 1200px;--canvas-aspect-ratio: 16 / 9}body{font-family:var(--font-family);background-color:var(--color-bg);color:var(--color-text);line-height:1.6;min-height:100vh;display:flex;align-items:center;justify-content:center}#app{width:100%;max-width:1200px;min-height:100vh;position:relative}.screen{display:none;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:var(--spacing-lg);text-align:center}.screen.active{display:flex}h1{font-size:var(--font-size-3xl);margin-bottom:var(--spacing-md);font-weight:700}h2{font-size:var(--font-size-2xl);margin-bottom:var(--spacing-md);font-weight:600}p{font-size:var(--font-size-base);color:var(--color-text-secondary);margin-bottom:var(--spacing-sm)}.tagline{font-size:var(--font-size-lg);font-style:italic;margin-bottom:var(--spacing-xl)}button{font-family:var(--font-family);font-size:var(--font-size-base);font-weight:600;padding:var(--spacing-sm) var(--spacing-lg);border:none;border-radius:var(--border-radius);cursor:pointer;transition:all .2s ease;min-width:200px;margin:var(--spacing-xs)}button:focus-visible{outline:3px solid var(--color-primary);outline-offset:2px}.primary-button{background-color:var(--color-primary);color:var(--color-text)}.primary-button:hover{background-color:#3a7bc8;transform:translateY(-2px);box-shadow:0 4px 12px #4a90e266}.primary-button:active{transform:translateY(0)}.secondary-button{background-color:var(--color-bg-light);color:var(--color-text);border:2px solid var(--color-primary)}.secondary-button:hover{background-color:var(--color-primary);transform:translateY(-2px)}.text-button{background-color:transparent;color:var(--color-text-secondary);min-width:auto}.text-button:hover{color:var(--color-text);text-decoration:underline}.icon-button{min-width:auto;width:48px;height:48px;padding:var(--spacing-xs);background-color:var(--color-bg-light);border-radius:50%;font-size:var(--font-size-xl)}.icon-button:hover{background-color:var(--color-primary)}#game-screen{padding:0}#game-canvas{width:100%;height:100vh;display:block;background:linear-gradient(to bottom,#1a1a2e,#2a2a3e)}#hud{position:fixed;top:0;left:0;right:0;display:flex;justify-content:space-between;padding:var(--spacing-md);background:linear-gradient(to bottom,rgba(26,26,46,.9) 0%,transparent 100%);pointer-events:none}#hud>div{background-color:var(--color-bg-light);padding:var(--spacing-xs) var(--spacing-sm);border-radius:var(--border-radius);font-weight:600;pointer-events:auto}#pause-button{position:fixed;top:var(--spacing-md);right:var(--spacing-md);z-index:10}.grade{font-size:6rem;font-weight:900;margin:var(--spacing-lg) 0;text-shadow:0 4px 8px rgba(0,0,0,.3)}.score-display{font-size:var(--font-size-2xl);margin:var(--spacing-md) 0}.score-display .value{font-weight:700;color:var(--color-accent)}.stats{margin:var(--spacing-lg) 0;display:flex;flex-direction:column;gap:var(--spacing-sm)}#calibration-content{max-width:500px;width:100%}.calibration-instructions{max-width:700px;max-height:70vh;overflow-y:auto;text-align:left;background-color:#fffffff2;padding:var(--spacing-lg);border-radius:var(--border-radius-lg);margin:var(--spacing-lg) 0}.calibration-instructions h3{color:var(--color-primary);font-size:var(--text-lg);margin-top:var(--spacing-md);margin-bottom:var(--spacing-sm)}.calibration-instructions p{margin-bottom:var(--spacing-md)}.calibration-instructions ul,.calibration-instructions ol{margin-left:var(--spacing-lg);margin-bottom:var(--spacing-md)}.calibration-instructions li{margin-bottom:var(--spacing-xs);line-height:1.6}.calibration-instructions .tip-box{background-color:#fff9e6;padding:var(--spacing-md);border-radius:var(--border-radius);border-left:4px solid var(--color-warning);margin:var(--spacing-md) 0}.calibration-instructions .tip-box ul{margin-top:var(--spacing-sm);margin-bottom:0}.calibration-instructions .tip{font-weight:700;margin-bottom:var(--spacing-sm)}#calibration-instruction{font-size:var(--font-size-lg);margin-bottom:var(--spacing-lg)}#calibration-progress{width:100%;height:8px;background-color:var(--color-bg-light);border-radius:4px;overflow:hidden;position:relative}#calibration-progress:after{content:"";position:absolute;left:0;top:0;height:100%;width:0%;background-color:var(--color-primary);transition:width .3s ease}#error-screen{background-color:#ff6b6b1a}#error-message{font-size:var(--font-size-lg);color:var(--color-error);margin:var(--spacing-lg) 0;max-width:500px}@media (max-width: 768px){h1{font-size:var(--font-size-2xl)}h2{font-size:var(--font-size-xl)}button{min-width:150px;font-size:var(--font-size-sm)}#hud{font-size:var(--font-size-sm);padding:var(--spacing-sm)}.grade{font-size:4rem}}@media (prefers-reduced-motion: reduce){*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}*:focus-visible{outline:3px solid var(--color-primary);outline-offset:2px}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.skip-link{position:absolute;top:-100px;left:0;background:var(--color-primary);color:#fff;padding:var(--spacing-sm) var(--spacing-md);text-decoration:none;font-weight:700;z-index:1000;border-radius:0 0 var(--border-radius) 0}.skip-link:focus{top:0}.keyboard-hint{margin-top:var(--spacing-md);font-size:var(--text-sm);color:var(--color-text-secondary)}.keyboard-hint kbd{background-color:var(--color-bg-light);padding:2px 8px;border-radius:4px;font-family:var(--font-mono);font-size:var(--text-xs);border:1px solid var(--color-text-secondary)}.overlay{position:fixed;inset:0;background-color:#000c;display:flex;align-items:center;justify-content:center;z-index:1000;padding:var(--spacing-lg)}.overlay[hidden]{display:none}.overlay-content{background:#fff;padding:var(--spacing-xl);border-radius:var(--border-radius-lg);max-width:600px;max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px #00000080}.overlay-content h2{margin-bottom:var(--spacing-lg)}.overlay-content table{width:100%;border-collapse:collapse;margin-bottom:var(--spacing-lg);text-align:left}.overlay-content th{background-color:var(--color-bg);padding:var(--spacing-sm);font-weight:600;border-bottom:2px solid var(--color-primary)}.overlay-content td{padding:var(--spacing-sm);border-bottom:1px solid var(--color-bg)}.overlay-content kbd{background-color:var(--color-bg-light);padding:4px 8px;border-radius:4px;font-family:var(--font-mono);font-size:var(--text-sm);border:1px solid var(--color-text-secondary);display:inline-block}.focus-visible *:focus-visible{outline:3px solid var(--color-primary);outline-offset:3px}.reduced-motion *{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}.high-contrast{--color-perfect: #00FF00;--color-great: #FFFF00;--color-good: #FFA500;--color-ok: #FF6600;--color-miss: #FF0000;--color-text-primary: #FFFFFF;--color-text-secondary: #CCCCCC;--color-bg: #000000;--color-bg-light: #1a1a1a;--color-primary: #00AAFF;--color-secondary: #AA00FF}.high-contrast button{border:2px solid currentColor}.high-contrast *:focus-visible{outline:4px solid #FFFF00;outline-offset:4px}[data-colorblind-mode=deuteranopia]{--color-perfect: #0088FF;--color-great: #FFDD00;--color-good: #FF8800;--color-ok: #FF6600;--color-miss: #FF0066}[data-colorblind-mode=protanopia]{--color-perfect: #0088FF;--color-great: #FFDD00;--color-good: #FF8800;--color-ok: #FF6600;--color-miss: #8800FF}[data-colorblind-mode=tritanopia]{--color-perfect: #FF00FF;--color-great: #00FFFF;--color-good: #FF8800;--color-ok: #FF6600;--color-miss: #FF0000}[data-colorblind-mode]:not([data-colorblind-mode=none]) .grade:before{content:"â—";margin-right:var(--spacing-sm)}@media (min-width: 320px){html{font-size:16px}}@media (prefers-contrast: more){:root{--border-width: 2px}button,.overlay-content,#hud>div{border:var(--border-width) solid currentColor}*:focus-visible{outline-width:4px}}.update-banner{position:fixed;bottom:0;left:0;right:0;background:var(--color-primary);color:#fff;padding:var(--spacing-md);box-shadow:0 -4px 12px #0003;z-index:2000;animation:slideUp .3s ease}.update-banner-content{display:flex;align-items:center;justify-content:center;gap:var(--spacing-md);flex-wrap:wrap}.update-banner p{margin:0;font-weight:600;color:#fff}.update-banner button{min-width:120px}@keyframes slideUp{0%{transform:translateY(100%)}to{transform:translateY(0)}}
